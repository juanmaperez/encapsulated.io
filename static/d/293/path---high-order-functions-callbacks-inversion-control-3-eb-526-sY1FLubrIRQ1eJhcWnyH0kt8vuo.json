{"data":{"markdownRemark":{"html":"<p>Functions are one of the most important tool we have to make a task in Javascript. We can declare them and use them in different places of our application.</p>\n<p>We can use them for make operation such as calculate ten squared which is gonna return 100 every single time that we invoke that function.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">function</span> <span class=\"token function\">tenSqured</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token number\">10</span> <span class=\"token operator\">*</span> <span class=\"token number\">10</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">tenSquared</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 100</span></code></pre></div>\n<p>And we could do this for every single calculation that we want, nine squared, eight squared, but creating functions in this way it would be hard to track and maintain, and we would be breaking the DRY rule (Don't repeat yourself).</p>\n<p>For that reason we should create functions based on functionalities, not in data. In that way we can declare a function which receives a number of parameters, and we must implement our code to handle that data in the way that our functionality requires.</p>\n<p>Let's say we create the function multiplyBy2, which receives a paramenter called num, which is the number we will be multiplying by 2, and the result of invoking that functino is going to be the same when the argument passed is the same value.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">function</span> <span class=\"token function\">multiplyBy2</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> num <span class=\"token operator\">*</span> <span class=\"token number\">2</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">multiplyBy2</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span>  <span class=\"token comment\">// 10</span>\n  <span class=\"token function\">multiplyBy2</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 20</span></code></pre></div>\n<h2>High order functions</h2>\n<p>High order functions are basically function that makes one of this two things </p>\n<ul>\n<li>returns a function</li>\n<li>receives a function as an argument.</li>\n</ul>\n<p>This functions are based on the same principle of functionality that is based our multiplyByTwo function but it goes a bit further as it can be pass the whole functionality as a parameter.</p>\n<p>Let's think about a function that receives an array and multiplies by two every single item in the array and return a new brand array with the results of those operations.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">function</span> <span class=\"token function\">copyAndMultiplyByTwo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> output <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> num <span class=\"token keyword\">of</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      output<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>num <span class=\"token operator\">*</span> <span class=\"token number\">2</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> output\n  <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token function\">copyAndMultiplyByTwo</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>   <span class=\"token comment\">// [4, 8, 12]</span></code></pre></div>\n<p>This function does its job but it's not reusable for multiplying by other number or maybe we want to addTwo instead of multiplying. </p>\n<p>That's when High order functions show their power allowing us to wrap the whole functionality into another function and pass it as an argument to be executed into the function.</p>\n<p>This functions that wraps the functionality and are passed into another function are called callbacks</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">function</span> <span class=\"token function\">multiplyBy2</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> num <span class=\"token operator\">*</span> <span class=\"token number\">2</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">addTwo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> num <span class=\"token operator\">+</span> <span class=\"token number\">2</span>\n  <span class=\"token punctuation\">}</span>\n\n <span class=\"token keyword\">function</span> <span class=\"token function\">copyAndModify</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr<span class=\"token punctuation\">,</span> cb</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> output <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> num <span class=\"token keyword\">of</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      output<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token function\">cb</span><span class=\"token punctuation\">(</span>num<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> output\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token function\">copyAndModify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> multiplyBy2<span class=\"token punctuation\">)</span>   <span class=\"token comment\">// [4, 8, 12]</span>\n  <span class=\"token function\">copyAndModify</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">,</span> <span class=\"token number\">6</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> addTwo<span class=\"token punctuation\">)</span>       <span class=\"token comment\">// [4, 6, 8]</span></code></pre></div>\n<p>Converting the old copyAndMultiplyByTwo function in the high order function called copyAndModify we have avoided rewriting the for of loop for every single case that we would like to implement, and instead we only need to pass a callback function which is gonna decide what we are going to do with each result.</p>\n<h2>Inversion of control</h2>\n<p>Hight order functions and callbacks are a really powerful tool that allow us to get improve our abstraction and cover more cases scenarios in our implementations allowing other developers what to do with the data they are passing into the function. </p>\n<p>This kind of implementations inverts the control over the original function making to developer who is using your function responsible to the different cases scenarions and how to deal with them.</p>\n<p>Going back to our copyAndMultiplyByTwo function which accepts an array. Let's say we have created this function as a library to be used by other developers, and one of them requests that in the case that one of the items of the array is undefined, we should return 0.</p>\n<p>Let's implement the change:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">function</span> <span class=\"token function\">copyAndMultiplyByTwo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> output <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> num <span class=\"token keyword\">of</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> result <span class=\"token operator\">?</span> num <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span> num <span class=\"token operator\">*</span> <span class=\"token number\">2</span>\n      output<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> output\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>And then someone requires the same but for null values:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">function</span> <span class=\"token function\">copyAndMultiplyByTwo</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> output <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span>\n    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> num <span class=\"token keyword\">of</span> arr<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> result <span class=\"token operator\">?</span> num <span class=\"token operator\">===</span> <span class=\"token keyword\">undefined</span> <span class=\"token operator\">||</span> num <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">?</span> <span class=\"token number\">0</span> <span class=\"token punctuation\">:</span> num <span class=\"token operator\">*</span> <span class=\"token number\">2</span>\n      output<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> output\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>More requirements means more exceptions in the implementation, and more code changes in the code and for sure more complexity. </p>\n<p>However, in the case of our function copyAndModify, the inversion of controls make responsible to the developer of the exceptions that he needs to handle and how to implement it in a way that is safe for their app, and this is one of the more valuable features of high order function in combination with callbacks.</p>","frontmatter":{"title":"Hight order functions, callbacks,`` and inversion of control","date":"June, 26, 2019","path":"/high-order-functions-callbacks-inversion-control","tags":["javascript","functions","callbacks","high order functions","inversion of control"],"excerpt":"Functions are one of the basics parts of Javascript. They are really powerful but it depends on ourselves when we declare them how powerfull they can be.","thumbnail":null,"icon":{"childImageSharp":{"fluid":{"src":"/static/49a21704a5bb82d398913aceb94c63af/48c6d/javascript.png"}}}}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"prev":{"html":"<p>It's been a few times that I have heard someone saying that I should use triple equals when comparing values because in that way I will be comparing not just the value but also the type of that value.</p>\n<p>An example of that case it would be something like comparing a number, maybe 2, with an string like \"2\". Depending how we compare this two values we can get different results.</p>\n<p>This is called equality between two values where two equals is loosy equality and the three equals is called strict equality</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// true</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span> <span class=\"token operator\">===</span> <span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// false </span></code></pre></div>\n<p>We have assumed that the difference between both results it's basically that it's because the three equals is checking the type and the value and the two equals one is only checking the value. </p>\n<p>The thing it's both of them are checking the types, but the triple equal comparaison is returning false at the very first moment those types don't match.</p>\n<p>In the other hand the double equal will try a completely different approach, and that approach is called coercion.</p>\n<h2>Coercion in our code.</h2>\n<p>Coercion is basically type coversion, as it's called in EcmaScript spec. There are different abstract operations which are in charge of this type coversion when it's needed. ToPrimitive(), ToString(), ToNumber() or ToBoolean() will help us to achieve that type conversion.  </p>\n<p>but, when coercion takes place? We have always heard that coercion is something that we should avoid, because it can make us commit terrible mistakes but at the same time we should say that this is a very powerful feature in Javascript.</p>\n<h3>Number to String</h3>\n<p>We bare in mind that thought telling us that coercion is evil, but we use coercion all the time in one of the features more loved by everyone like the template interpolation.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span> <span class=\"token operator\">==</span> <span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// coercion and evil</span>\n\n  <span class=\"token keyword\">const</span> age <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n\n  <span class=\"token keyword\">const</span> introduction <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`My name is Jack and I'm </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>age<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> years old`</span></span> <span class=\"token comment\">// coercion but great</span></code></pre></div>\n<p>Actually, what we are doing is a type conversion of the value for the variable age from a number to a string, and inserting that value within two strings that will create another string which, later, will be assigned to the introduction variable.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">const</span> age <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n\n  <span class=\"token keyword\">const</span> part1 <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`My name is Jack and I'm`</span></span>\n  <span class=\"token keyword\">const</span> part2 <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`years old`</span></span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span> part1 <span class=\"token operator\">+</span> age <span class=\"token operator\">+</span> part2<span class=\"token punctuation\">)</span></code></pre></div>\n<p>We can say that this is the way implicit to do coercion and the one that sometimes we don't even know we are doing. There are other ways to do it more explicit like using the method String().</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">const</span> age <span class=\"token operator\">=</span> <span class=\"token number\">18</span>\n\n  <span class=\"token keyword\">const</span> introduction <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`My name is Jack and I'm </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token function\">String</span><span class=\"token punctuation\">(</span>age<span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> years old`</span></span> </code></pre></div>\n<p>This was an example of coercion from number to string but how this could happen the other way around, a string into a number.</p>\n<h3>String to Number</h3>\n<p>All of us have dealt at some point with some elements in web development like forms that return string and we are expeting to deal with that as a number in our functionality but it's not, causing an unexpected behavior in our application.</p>\n<p>Let's think about a function called addTwo, which is gonna receive a parameter called num but, depending of the type of that paramenter is gonna return different values. </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addTwo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> num <span class=\"token operator\">+</span> <span class=\"token number\">2</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// number</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">addTwo</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 4</span>\n\n  <span class=\"token comment\">// string</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">addTwo</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// Ops! 22</span></code></pre></div>\n<p>How we could be explicit about coercing a string into a number, well the same we did in our previous case but using the Number() function instead of the String()</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addTwo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> num <span class=\"token operator\">+</span> <span class=\"token number\">2</span>\n  <span class=\"token punctuation\">}</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">addTwo</span><span class=\"token punctuation\">(</span><span class=\"token function\">Number</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"2\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 4</span></code></pre></div>\n<p>Even we could pass that string into a number in an implicit way that it's not telling what it's doing as the Number() function but it's doing the type conversion behind the scenes, like adding the add operator in front of the paramenter.</p>\n<p>In that case, the + will do a coercion to our parameter passing it into a number when it's needed and when it's able to do it. </p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">const</span> str <span class=\"token operator\">=</span> <span class=\"token string\">\"4\"</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">addTwo</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">num</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> num <span class=\"token operator\">+</span> <span class=\"token number\">2</span>\n  <span class=\"token punctuation\">}</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token function\">addTwo</span><span class=\"token punctuation\">(</span><span class=\"token operator\">+</span>str<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// 6</span></code></pre></div>\n<h3>String to Boolean</h3>\n<p>And what about booleans. I'm pretty sure that at some point you have used a if statement to check if you are receiving a empty string without comparing with a empty string the variable itself.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"> <span class=\"token keyword\">const</span> myString <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n\n  <span class=\"token comment\">// Doing this </span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>myString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// do something</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Instead of this</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>myString <span class=\"token operator\">===</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// do something</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>Well, in that case what we are doing is coercing myString to a boolean since the if statement what it's expecting is an operation that evaluates on true or false like it's doing (string === \"\")</p>\n<p>There are other ways to make an implicit coercion with number or strings and one of them could be the double exclamation mark in front of our value</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">const</span> myString <span class=\"token operator\">=</span> <span class=\"token string\">\"\"</span>\n  <span class=\"token keyword\">const</span> myNumber <span class=\"token operator\">=</span> <span class=\"token number\">2</span>\n  \n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span>myString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> <span class=\"token comment\">// false</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token operator\">!</span>myNumber<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> <span class=\"token comment\">// true    </span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<p>or as we saw also there is an explicit way to do it, with the function Boolean().</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">const</span> myString <span class=\"token operator\">=</span> <span class=\"token string\">\"myString\"</span>\n  \n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span><span class=\"token function\">Boolean</span><span class=\"token punctuation\">(</span>myString<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> <span class=\"token comment\">// true</span>\n  <span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Understanding coercion is important.</h2>\n<p>There are different corner cases for coercion when values interact with each other and some of them can be really unexpected but they are happening even when we don't know about it.</p>\n<p>The thing it's coercion could bring confusion to our codebase, and I'm not saying that you should use coercion within you app, but at least understand how it works would help a lot to understand what's going on when it happens implicity in your code.</p>","id":"68fd5554-a05f-59bc-9b2e-ac54cb815f3c","frontmatter":{"date":"26 June, 2019","path":"/values-and-coercion","title":"Values and coercion","excerpt":"How many times have you heard the fact that doubles equals check the value but not the type while three equals check both","tags":["javascript","coercion","variables javascript","javascript engine","javascript values"],"type":"post","category":"javascript","thumbnail":null,"icon":{"childImageSharp":{"fluid":{"src":"/static/49a21704a5bb82d398913aceb94c63af/48c6d/javascript.png"}}}}},"next":{"html":"<p>If we want to understand how javascript works beyond your code, you need to know three different concepts or ideas that you will see repeated throughout the rest of your life as a programmer.</p>\n<ul>\n<li>Syntax Parser,</li>\n<li>Lexical Environment,</li>\n<li>Execution Context.</li>\n</ul>\n<h2>Syntax parser.</h2>\n<p>It’s a program that reads your code and determines what it does and if its grammar is valid. Your code is not magic, someone else wrote a program to translate it for the computer.</p>\n<p>These programs are interpreters, also known as compilers. Compilers work reading your code character by character and they implement that syntax in a way that computer can understand.</p>\n<p>For example:</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">  <span class=\"token keyword\">function</span> <span class=\"token function\">hello</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span> <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello world\"</span> <span class=\"token punctuation\">}</span></code></pre></div>\n<p>This program starts reading F-U-N-C-T-I-O-N and when it finishes it determines that you have declared a function, and after this continues and identifies a variable inside of it.</p>\n<h2>Lexical environment</h2>\n<p>It’s about where something sits physically in the code you write. <strong>A lexical environment exists in programming in which where you write something is important</strong>. This happens because the order determines how these elements will interact with other variables and functions.</p>\n<p>Compilers care about where you put things. They make decisions about where something is and what is surrounding it.</p>\n<h2>Execution context: creation and hoisting</h2>\n<p>The execution context is a wrapper to help manage the code that is running. There are a lot of lexical environments. And one of them is currently running via execution contexts. It can contain things beyond what you have written in your javascript code.</p>\n<p>The execution context is composed of two phases: <strong>creation and execution</strong> and we will need a variable and a function if we want to explain how both of them work:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello world\"</span><span class=\"token punctuation\">;</span> \n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">b</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> \n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Called ¡b!\"</span><span class=\"token punctuation\">)</span> \n  <span class=\"token punctuation\">}</span> \n\n  <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span>   \n    \n  <span class=\"token comment\">// Called b! </span>\n  <span class=\"token comment\">// Hello World</span></code></pre></div>\n<p>When we execute this code It will show what we expected but if we would put the call to the function and the variable log at the top of the javascript file, it showed that the variable a wasn’t defined with a value instead of return an error as usual in other programming languages:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token function\">b</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> \n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span> \n\n  <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello world\"</span><span class=\"token punctuation\">;</span> \n\n  <span class=\"token keyword\">function</span> <span class=\"token function\">b</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span> \n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Called b!\"</span><span class=\"token punctuation\">)</span> \n  <span class=\"token punctuation\">}</span> \n\n  <span class=\"token comment\">// Called b! </span>\n  <span class=\"token comment\">// undefined</span></code></pre></div>\n<p>Some people think that this happens because the javascript engine moves all the functions and variables, created along the all entire code, to the top of the file. But how it really works is through the Creation phase where hoisting is created:</p>\n<ul>\n<li>Global Object</li>\n<li>‘this’</li>\n<li>Outer Environment</li>\n<li>and the Hoisting</li>\n</ul>\n<p>Javascript engine has already set hoisting, a memory space for variables and function that you’ve created in that entire code that you’ve built. All this mean that when the code is executed line by line, this variables and function already exist.</p>\n<p>However, functions are entirely placed into memory space, that means that the function is named and the code inside but variables are only created, their value is not assigned yet. It’s in the next phase, the execution phase, where these kinds of assignments are set, where variable equals something.</p>\n<p>Then, the variable is executed but how it has not a value assigned instead of return and error, javascript engine puts a placeholder called undefined.</p>\n<h2>Different between undefined and not been defined</h2>\n<p>In javascript, we have two different ways to define a variable. It could be when we assign a value or when the own engine of the programming language assigns the value automatically as undefined. In another hand, if we never create a variable, the browser will show us an Uncaught referenceError: variable is not defined.</p>\n<p>In the first case, we can create a variable like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">var</span> a <span class=\"token operator\">=</span> <span class=\"token string\">\"Hello World\"</span><span class=\"token punctuation\">;</span>\n\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span> <span class=\"token comment\">// Hello World</span></code></pre></div>\n<p>and we will see that the browser shows that the browser returns the value Hello World. But if we try to create another variable b without a value:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  <span class=\"token keyword\">var</span> b<span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token comment\">// undefined</span>\n\n  <span class=\"token keyword\">var</span> b<span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>b<span class=\"token punctuation\">)</span> <span class=\"token comment\">// undefined</span></code></pre></div>\n<p>In this case, the variable has been created and the console log shows the variable as undefined but this is confusing. <strong>Because our variable has a value assigned automatically by the javascript engine with the special keyword undefined.</strong> For this reason, we don’t get an error when we refer to the variable b.</p>\n<p>However, if we would have tried to log a variable that we have never declared before like this:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span> \n  <span class=\"token comment\">// Uncaught ReferenceError : c is not define</span></code></pre></div>\n<p>It will give you an error because when that initial execution context creation, in that creation phase, when Javascript engine went trough memory space, it didn’t find a var c so it doesn’t have c in memory at all.</p>\n<h2>Wrapping up</h2>\n<p>We have seen 3 different concepts and all work together to get javascript working: </p>\n<p>We can say that the <strong>syntax parser</strong> is the piece that it's gonna read what we have written to indentify what we are trying to achieve. Besides we have a <strong>lexical context</strong> that gives an lexical environment to our commands according to interact with each other. And finally we got a <strong>execution context</strong> that it's gonna read our code, save it on its corresponding memory space and execute it.</p>","id":"0fcd54d3-d61a-551b-8895-8db403fd5ca4","frontmatter":{"date":"18 May, 2018","path":"/how-javascript-engine-works","title":"How javascript engine works","excerpt":"If we want to understand how javascript works beyond your code, you need to know three different concepts or ideas that you will see repeated throughout the rest of your life as a programmer.","tags":["javascript","basic javascript","javascript engine","hoisting"],"type":"post","category":"javascript","thumbnail":null,"icon":{"childImageSharp":{"fluid":{"src":"/static/49a21704a5bb82d398913aceb94c63af/48c6d/javascript.png"}}}}}}}